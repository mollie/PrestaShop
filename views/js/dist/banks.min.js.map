{"version":3,"sources":["webpack://MollieModule.[name]/./src/front/banks/components/Banks.tsx","webpack://MollieModule.[name]/./src/front/banks/index.tsx","webpack://MollieModule.[name]/./src/front/qrcode/components/QrCode.tsx","webpack://MollieModule.[name]/./src/shared/axios.ts","webpack://MollieModule.[name]/./src/shared/components/LoadingDotsCentered.tsx","webpack://MollieModule.[name]/./src/shared/globals.ts"],"names":["QrCode","lazy","Radio","styled","div","Banks","banks","translations","setIssuer","_handleChange","value","target","firstBankId","Object","values","id","map","bank","lineHeight","image","size2x","xss","name","height","width","window","mollieQrEnabled","orPayByIdealQr","bankList","issuer","_setIssuer","newIssuer","wrapper","document","createElement","render","elem","firstChild","swal","title","chooseYourBank","content","element","buttons","cancel","text","visible","confirm","choose","win","open","href","opener","setTimeout","unmountComponentAtNode","e","TitleSpan","span","QrImageContainer","center","QrImage","img","useState","enoughSpace","setEnoughSpace","setVisible","error","setImage","initializing","setInitializing","mounted","setMounted","_clearCache","key","localStorage","indexOf","removeItem","_checkWindowSize","innerWidth","innerHeight","_grabNewUrl","axios","get","MollieModule","urls","qrCodeNew","data","setItem","expires","amount","JSON","stringify","url","idTransaction","console","_pollStatus","qrCodeStatus","status","QrStatus","success","a","hostname","location","refresh","then","pending","_grabAmount","cartAmount","_initQrImage","cacheInfo","split","parseInt","Date","item","parse","getItem","test","protocol","ref","useRef","resizeHandler","throttle","useEffect","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","intersectionRatio","disconnect","observe","current","addEventListener","removeEventListener","create","transformResponse","res","replace","headers","SpinnerDiv","LoadingDotsCentered"],"mappings":"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","file":"banks.min.js","sourcesContent":["/**\n * Mollie       https://www.mollie.nl\n *\n * @author      Mollie B.V. <info@mollie.nl>\n * @copyright   Mollie B.V.\n * @link        https://github.com/mollie/PrestaShop\n * @license     https://github.com/mollie/PrestaShop/blob/master/LICENSE.md\n * @codingStandardsIgnoreStart\n */\nimport React, { ChangeEvent, ReactElement, Suspense, lazy } from 'react';\nimport xss from 'xss';\nimport styled from 'styled-components';\n\nimport { IBanks, ITranslations } from '@shared/globals';\nimport LoadingDotsCentered from '@shared/components/LoadingDotsCentered';\n\nconst QrCode = lazy(() => import(/* webpackChunkName: \"banks\" */ '@qrcode/components/QrCode'));\n\nconst Radio = styled.div`\n&&&& {\n    padding-left: 80px;\n    cursor: pointer;\n    text-align: left;\n}\n\n&&&& label {\n    display: inline-block;\n    position: relative;\n    padding-left: 5px;\n    cursor: pointer;\n}\n\n&&&& label::before {\n    content: \"\";\n    display: inline-block;\n    position: absolute;\n    width: 17px;\n    height: 17px;\n    left: 0;\n    top: 7px;\n    margin-left: -20px;\n    border: 1px solid #cccccc;\n    border-radius: 50%;\n    background-color: #fff;\n    -webkit-transition: border 0.15s ease-in-out;\n    -o-transition: border 0.15s ease-in-out;\n    transition: border 0.15s ease-in-out;\n}\n\n&&&& label::after {\n    display: inline-block;\n    position: absolute;\n    content: \" \";\n    width: 11px;\n    height: 11px;\n    left: 3px;\n    top: 10px;\n    margin-left: -20px;\n    border-radius: 50%;\n    background-color: #555555;\n    -webkit-transform: scale(0, 0);\n    -ms-transform: scale(0, 0);\n    -o-transform: scale(0, 0);\n    transform: scale(0, 0);\n    -webkit-transition: -webkit-transform 0.1s cubic-bezier(0.8, -0.33, 0.2, 1.33);\n    -moz-transition: -moz-transform 0.1s cubic-bezier(0.8, -0.33, 0.2, 1.33);\n    -o-transition: -o-transform 0.1s cubic-bezier(0.8, -0.33, 0.2, 1.33);\n    transition: transform 0.1s cubic-bezier(0.8, -0.33, 0.2, 1.33);\n}\n\n&&&& input[type=\"radio\"] {\n    opacity: 0;\n}\n\n&&&& input[type=\"radio\"]:focus + label::before {\n    outline: 5px auto -webkit-focus-ring-color;\n    outline-offset: -2px;\n}\n\n&&&& input[type=\"radio\"]:checked + label::after {\n    -webkit-transform: scale(1, 1);\n    -ms-transform: scale(1, 1);\n    -o-transform: scale(1, 1);\n    transform: scale(1, 1);\n}\n\n&&&& input[type=\"radio\"]:disabled + label {\n    opacity: 0.65;\n}\n\n&&&& input[type=\"radio\"]:disabled + label::before {\n    cursor: not-allowed;\n}\n\n&&&&&&&&-inline {\n    margin-top: 0;\n}\n\n&&&& input[type=\"radio\"] + label::after {\n    background-color: #7cd1f9;\n}\n\n&&&& input[type=\"radio\"]:checked + label::before {\n    border-color: #7cd1f9;\n}\n\n&&&& input[type=\"radio\"]:checked + label::after {\n    background-color: #7cd1f9;\n}\n`;\n\ndeclare let window: any;\n\ninterface IProps {\n  banks: IBanks;\n  translations: ITranslations;\n  setIssuer: any;\n}\n\nexport default function Banks({ banks, translations, setIssuer }: IProps): ReactElement<{}> {\n  function _handleChange({ target: { value } }: ChangeEvent<HTMLInputElement>): void {\n    setIssuer(value);\n  }\n\n  const firstBankId = (Object.values(banks))[0].id;\n\n  return (\n    <div>\n      <ul>\n        {Object.values(banks).map((bank) => (\n          <Radio key={bank.id}>\n            <input\n              type=\"radio\"\n              defaultChecked={bank.id === firstBankId}\n              id={bank.id}\n              name=\"mollie-bank\"\n              value={bank.id}\n              onChange={_handleChange}\n            />\n            <label htmlFor={bank.id} style={{ lineHeight: '24px' }}>\n              <img\n                src={bank.image.size2x}\n                alt={xss(bank.name)}\n                style={{ height: '24px', width: 'auto' }}\n              /> {bank.name}\n            </label>\n          </Radio>\n        ))}\n      </ul>\n      {window.mollieQrEnabled && (\n        <Suspense fallback={<LoadingDotsCentered/>}>\n          <QrCode title={translations.orPayByIdealQr} center/>\n        </Suspense>\n      )}\n    </div>\n  );\n}\n","/**\n * Mollie       https://www.mollie.nl\n *\n * @author      Mollie B.V. <info@mollie.nl>\n * @copyright   Mollie B.V.\n * @link        https://github.com/mollie/PrestaShop\n * @license     https://github.com/mollie/PrestaShop/blob/master/LICENSE.md\n * @codingStandardsIgnoreStart\n */\nimport React, { lazy, Suspense } from 'react';\nimport { render, unmountComponentAtNode } from 'react-dom';\nimport swal from 'sweetalert';\nimport xss from 'xss';\n\nimport { IBanks, ITranslations } from '@shared/globals';\nimport LoadingDotsCentered from '@shared/components/LoadingDotsCentered';\n\nconst Banks = lazy(() => import(/* webpackPrefetch: true, webpackChunkName: \"banks\" */ '@banks/components/Banks'));\n\ndeclare let window: any;\n\nexport default function bankList(banks: IBanks, translations: ITranslations): void {\n  let issuer = Object.values(banks)[0].id;\n  function _setIssuer(newIssuer: string): void {\n    issuer = newIssuer;\n  }\n\n  (async function () {\n    const wrapper = document.createElement('DIV');\n    render(\n      (\n        <div>\n          <Suspense fallback={<LoadingDotsCentered/>}>\n            <Banks banks={banks} translations={translations} setIssuer={_setIssuer}/>\n          </Suspense>\n        </div>\n      ),\n      wrapper\n    );\n    const elem = wrapper.firstChild as Element;\n\n    const value = await swal({\n      title: xss(translations.chooseYourBank),\n      content: {\n        element: elem,\n      },\n      buttons: {\n        cancel: {\n          text: xss(translations.cancel),\n          visible: true,\n        },\n        confirm: {\n          text: xss(translations.choose),\n        },\n      },\n    });\n    if (value) {\n      const win = window.open(banks[issuer].href, '_self');\n      win.opener = null;\n    } else {\n      try {\n        setTimeout(() => unmountComponentAtNode(wrapper), 2000);\n      } catch (e) {\n      }\n    }\n  }());\n}\n\n","/**\n * Mollie       https://www.mollie.nl\n *\n * @author      Mollie B.V. <info@mollie.nl>\n * @copyright   Mollie B.V.\n * @link        https://github.com/mollie/PrestaShop\n * @license     https://github.com/mollie/PrestaShop/blob/master/LICENSE.md\n * @codingStandardsIgnoreStart\n */\nimport 'intersection-observer';\nimport React, { ReactElement, useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { throttle } from 'lodash';\n\nimport LoadingDotsCentered from '@shared/components/LoadingDotsCentered';\nimport axios from '@shared/axios';\nimport { QrStatus } from '@shared/globals';\n\ndeclare let window: any;\n\nconst TitleSpan = styled.span`\n&&&& {\n  font-size: 20px;\n  display: block;\n}\n`;\n\nconst QrImageContainer = styled.div`\n&&&& {\n  position: relative;\n  display: block;\n  text-align: ${({ center }: any) => center ? 'center' : 'left'};\n  margin: ${({ center }: any) => center ? '0 auto' : 'inherit'};\n  height: 240px;\n  width: 240px;\n}\n` as any;\n\nconst QrImage = styled.img`\n&&&& {\n  height: 240px;\n  width: 240px;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n` as any;\n\ninterface IProps {\n  title?: string;\n  center?: boolean;\n}\n\nexport default function QrCode({ title, center }: IProps): ReactElement<{}> {\n  const [enoughSpace, setEnoughSpace] = useState<boolean>(false);\n  const [visible, setVisible] = useState<boolean>(false);\n  const [error] = useState<boolean>(false);\n  const [image, setImage] = useState<string>('');\n  const [initializing, setInitializing] = useState<boolean>(false);\n  const [mounted, setMounted] = useState<boolean>(true);\n\n  function _clearCache(): void {\n    for (let key in window.localStorage) {\n      if (key.indexOf('mollieqrcache') > -1) {\n        window.localStorage.removeItem(key);\n      }\n    }\n  }\n\n  function _checkWindowSize(): void {\n    setEnoughSpace(window.innerWidth > 800 && window.innerHeight > 860);\n  }\n\n  async function _grabNewUrl(): Promise<string> {\n    try {\n      const { data } = await axios.get(window.MollieModule.urls.qrCodeNew);\n      window.localStorage.setItem('mollieqrcache-' + data.expires + '-' + data.amount, JSON.stringify({\n        url: data.href,\n        idTransaction: data.idTransaction,\n      }));\n      setImage(data.href);\n      return data.idTransaction;\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  function _pollStatus(idTransaction: string): void {\n    if (!mounted) {\n      return;\n    }\n\n    setTimeout(async (): Promise<void> => {\n      try {\n        const { data } = await axios.get(`${window.MollieModule.urls.qrCodeStatus}&transaction_id=${idTransaction}`);\n        if (data.status === QrStatus.success) {\n          _clearCache();\n\n          // Never redirect to a different domain\n          const a = document.createElement('A') as HTMLAnchorElement;\n          a.href = data.href;\n          if (a.hostname === window.location.hostname) {\n            window.location.href = data.href;\n          }\n        } else if (data.status === QrStatus.refresh) {\n          _clearCache();\n          _grabNewUrl().then();\n        } else if (data.status === QrStatus.pending) {\n          _pollStatus(idTransaction);\n        } else {\n          console.error('Invalid payment status');\n        }\n      } catch (e) {\n        _pollStatus(idTransaction);\n      }\n    }, 5000);\n  }\n\n  async function _grabAmount(): Promise<number> {\n    try {\n      const { data: { amount } } = await axios.get(window.MollieModule.urls.cartAmount);\n      return amount;\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  function _initQrImage(amount: number): void {\n    let url: string = null;\n    let idTransaction: string = null;\n    if (typeof window.localStorage !== 'undefined') {\n      for (let key in window.localStorage) {\n        if (key.indexOf('mollieqrcache') > -1) {\n          const cacheInfo = key.split('-');\n          if (parseInt(cacheInfo[1], 10) > (+new Date() + 60 * 1000) && parseInt(cacheInfo[2], 10) === amount) {\n            const item = JSON.parse(window.localStorage.getItem(key));\n            const a = document.createElement('A') as HTMLAnchorElement;\n            a.href = item.url;\n            if (!/\\.ideal\\.nl$/i.test(a.hostname) || a.protocol !== 'https:') {\n              window.localStorage.removeItem(key);\n              continue;\n            }\n            // Valid\n            url = item.url;\n            idTransaction = item.idTransaction;\n            break;\n          } else {\n            window.localStorage.removeItem(key);\n          }\n        }\n      }\n\n      if (url && idTransaction) {\n        setImage(url);\n        _pollStatus(idTransaction);\n      } else {\n        _grabNewUrl().then(_pollStatus);\n      }\n    }\n  }\n\n  const ref = useRef<| null>(null);\n\n  const resizeHandler = throttle(() => {\n    _checkWindowSize();\n  }, 200);\n\n  useEffect(() => {\n    setMounted(true);\n    let observer = new IntersectionObserver(entries => {\n      entries.forEach(entry => {\n        const { isIntersecting, intersectionRatio } = entry;\n\n        if (isIntersecting === true || intersectionRatio > 0) {\n          setVisible(true);\n          observer.disconnect();\n          observer = null;\n        }\n      });\n    }, {});\n    observer.observe(ref.current);\n    _checkWindowSize();\n    window.addEventListener('resize', resizeHandler);\n\n    return () => {\n      setMounted(false);\n      if (observer != null) {\n        observer.disconnect();\n        observer = null;\n      }\n\n      window.removeEventListener('resize', resizeHandler);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (enoughSpace && visible && !image && !initializing) {\n      setInitializing(true);\n      _grabAmount().then(_initQrImage);\n    }\n  }, [enoughSpace, visible, image, initializing]);\n\n  if (!enoughSpace || !visible || error) {\n    return <p ref={ref} style={{ width: '20px' }}>&nbsp;</p>;\n  }\n\n  return (\n    <>\n      <TitleSpan>{title}</TitleSpan>\n      <QrImageContainer center={center}>\n        {!image && <LoadingDotsCentered/>}\n        {image && <QrImage src={image} center={center}/>}\n      </QrImageContainer>\n    </>\n  );\n}\n","/**\n * Mollie       https://www.mollie.nl\n *\n * @author      Mollie B.V. <info@mollie.nl>\n * @copyright   Mollie B.V.\n * @link        https://github.com/mollie/PrestaShop\n * @license     https://github.com/mollie/PrestaShop/blob/master/LICENSE.md\n * @codingStandardsIgnoreStart\n */\nimport axios from 'axios';\n\nexport default axios.create({\n  transformResponse: [res => JSON.parse(res.replace(/^[^{[]*/mg, '').replace(/([^}\\]]*)$/mg, ''))],\n  headers: {\n    'X-Requested-With': 'XMLHttpRequest',\n    'Content-Type': 'application/json',\n    'Accept': 'application/json',\n  },\n});\n\n","/**\n * Mollie       https://www.mollie.nl\n *\n * @author      Mollie B.V. <info@mollie.nl>\n * @copyright   Mollie B.V.\n * @link        https://github.com/mollie/PrestaShop\n * @license     https://github.com/mollie/PrestaShop/blob/master/LICENSE.md\n * @codingStandardsIgnoreStart\n */\nimport React, { ReactElement } from 'react';\nimport styled from 'styled-components';\n\nconst SpinnerDiv = styled.div`\n&&&& {\n  position: absolute;\n  top: 110px;\n  left: 90px;\n}\n\n&&&& > div {\n  width: 18px;\n  height: 18px;\n  background-color: #333;\n\n  border-radius: 100%;\n  display: inline-block;\n  -webkit-animation: sk-bouncedelay 1.4s infinite ease-in-out both;\n  animation: sk-bouncedelay 1.4s infinite ease-in-out both;\n}\n\n&&&& .bounce1 {\n  -webkit-animation-delay: -0.32s;\n  animation-delay: -0.32s;\n}\n\n&&&& .bounce2 {\n  -webkit-animation-delay: -0.16s;\n  animation-delay: -0.16s;\n}\n\n@-webkit-keyframes sk-bouncedelay {\n  0%, 80%, 100% { -webkit-transform: scale(0) }\n  40% { -webkit-transform: scale(1.0) }\n}\n\n@keyframes sk-bouncedelay {\n0%, 80%, 100% {\n  -webkit-transform: scale(0);\n  transform: scale(0);\n  } 40% {\n    -webkit-transform: scale(1.0);\n    transform: scale(1.0);\n  }\n}\n`;\n\nexport default function LoadingDotsCentered(): ReactElement<{}> {\n  return (\n    <SpinnerDiv>\n      <div className=\"bounce1\"/>\n      <div className=\"bounce2\"/>\n      <div className=\"bounce3\"/>\n    </SpinnerDiv>\n  );\n}\n","/**\n * Mollie       https://www.mollie.nl\n *\n * @author      Mollie B.V. <info@mollie.nl>\n * @copyright   Mollie B.V.\n * @link        https://github.com/mollie/PrestaShop\n * @license     https://github.com/mollie/PrestaShop/blob/master/LICENSE.md\n * @codingStandardsIgnoreStart\n */\nimport {array} from \"locutus/php\";\n\nexport interface ITranslations {\n  [key: string]: string;\n}\n\nexport interface IBankImage {\n  size1x: string;\n  size2x: string;\n}\n\nexport interface IBank {\n  id: string;\n  name: string;\n  image: IBankImage;\n  href: string;\n}\n\nexport interface IBanks {\n  [key: string]: IBank;\n}\n\nexport interface IMollieAmount {\n  value: string;\n  currency: string;\n}\n\nexport interface IBankOptions {\n  [key: string]: any;\n}\n\nexport interface IMollieOrderConfig {\n  ajaxEndpoint: string;\n  moduleDir: string;\n  initialStatus: string;\n  transactionId: string;\n  legacy: boolean;\n  tracking?: IMollieTracking;\n}\n\nexport interface IMollieCarrierConfig {\n  ajaxEndpoint: string;\n  carrierConfig: Array<IMollieCarrierConfigItem>;\n  legacy: boolean;\n}\n\nexport interface IMollieCarrierConfigItems {\n  [key: string]: IMollieCarrierConfigItem;\n}\n\nexport interface IMollieCarrierConfigItem {\n  'id_carrier': string;\n  'name': string;\n  'source': 'do-not-track' | 'no-tracking-info' | 'module' | 'carrier_url' | 'custom_url';\n  'module'?: string;\n  'module_name': string;\n  'custom_url': string;\n}\n\nexport interface IMolliePaymentMethodImage {\n  size1x: string;\n  size2x: string;\n  svg: string;\n}\n\nexport interface IMolliePaymentIssuer {\n  [key: string]: any;\n}\n\nexport interface IMolliePaymentMethodItem {\n  id: string;\n  name: string;\n  enabled: boolean;\n  available?: boolean;\n  tipEnableSSL?: boolean;\n  image: IMolliePaymentMethodImage;\n  issuers: Array<IMolliePaymentIssuer>;\n}\n\nexport interface IMolliePaymentMethodConfigItem extends IMolliePaymentMethodItem {\n  position: number;\n}\n\nexport interface IMollieMethodConfig {\n  ajaxEndpoint: string;\n  moduleDir: string;\n  legacy: boolean;\n}\n\nexport interface ICurrencies {\n  [iso: string]: ICurrency;\n}\n\nexport interface ICurrency {\n  format: number;\n  sign: string;\n  blank: string;\n  name: string;\n  iso_code: string;\n  decimals: boolean;\n}\n\nexport interface IMollieApiOrder {\n  resource: string;\n  id: string;\n  mode: string;\n  amount: IMollieAmount;\n  amountCaptured: IMollieAmount;\n  status: string;\n  method: string;\n  metadata: any;\n  isCancelable?: boolean;\n  createdAt: string;\n  lines: Array<IMollieOrderLine>;\n  refunds: Array<IMollieApiRefund>;\n  availableRefundAmount: IMollieAmount;\n  details: IMollieOrderDetails;\n}\n\nexport interface IMollieOrderLine {\n  resource: string;\n  id: string;\n  orderId: string;\n  name: string;\n  sku?: string;\n  type: string;\n  status: string;\n  isCancelable: boolean;\n  quantity: number;\n  quantityShipped: number;\n  amountShipped: IMollieAmount;\n  quantityRefunded: number;\n  amountRefunded: IMollieAmount;\n  quantityCanceled: number;\n  amountCanceled: IMollieAmount;\n  shippableQuantity: number;\n  refundableQuantity: number;\n  cancelableQuantity: number;\n  unitPrice: IMollieAmount;\n  vatRate: string;\n  vatAmount: IMollieAmount;\n  totalAmount: IMollieAmount;\n  createdAt: string;\n\n  // PrestaShop additions\n  newQuantity: number;\n}\n\nexport interface IMollieTracking {\n  carrier: string;\n  code: string;\n  url?: string;\n}\n\nexport interface IMollieShipment {\n  lines: Array<IMollieOrderLine>;\n  tracking: IMollieTracking;\n}\n\nexport interface IMollieApiPayment {\n  resource: string;\n  id: string;\n  mode: string;\n  amount: IMollieAmount;\n  settlementAmount: IMollieAmount;\n  amountRefunded: IMollieAmount;\n  amountRemaining: IMollieAmount;\n  description: string;\n  method: string;\n  status: string;\n  createdAt: string;\n  paidAt: string;\n  canceledAt: string;\n  expiresAt: string;\n  failedAt: string;\n  metaData: any;\n  isCancelable: boolean;\n  refunds: Array<IMollieApiRefund>;\n}\n\nexport interface IMollieApiRefund {\n  resource: string;\n  id: string;\n  amount: IMollieAmount;\n  createdAt: string;\n  description: string;\n  paymentId: string;\n  orderId: string;\n  lines: string;\n  settlementAmount: string;\n  status: string;\n}\n\nexport enum QrStatus {\n  pending = 1,\n  success = 2,\n  refresh = 3,\n}\n\nexport interface IMollieOrderDetails {\n  issuer: string;\n  remainderMethod: string;\n  vouchers: Array<IMollieVoucher>;\n}\n\nexport interface IMollieVoucher {\n  issuer: string;\n  amount: IMollieAmount\n}\n"],"sourceRoot":""}